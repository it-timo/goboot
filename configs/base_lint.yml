###############################################################################
#  Base Lint Configuration File
#
#  This file defines metadata used by goboot to scaffold the linter setup.
#  All values are injected into templated files and may also be used for documentation, CI/CD, and more.
#
#  Safe to commit â€” no secrets, purely structural.
#  Required by goboot's linter logic.
###############################################################################

#  ------------------------------------------------------------------------------
#  General Configuration
#  ------------------------------------------------------------------------------

#  Directory where the templates will be read from.
sourcePath: "templates/lint_base"

#  ------------------------------------------------------------------------------
#  Modular Linter Configuration
#  ------------------------------------------------------------------------------

#  Each linter entry defines:
#    - A stable name
#    - The command to run
#    - Whether the service should be included in this run
#
#  Disabled linter will be skipped without error.
#  Linter names can't be empty but are only used to define fallback commands if internally defined.
#  ROOT_DIR equals to the root directory of the project (pwd)
#  DOCKER_RUN equals to: docker run --rm -v \"{{ROOT_DIR}}:/workdir\" -w /workdir
#  SH_FILES equals to: $(find . -type f -name \"*.sh\")
linters:
  golang:          #  name of the linter scope
    cmd: |-
      {{DOCKER_RUN}} golangci/golangci-lint:v2.7.1 golangci-lint run ./...
    enabled: true  #  enable state
  yaml:
    cmd: |-
      {{DOCKER_RUN}} pipelinecomponents/yamllint:0.35.9 yamllint .
    enabled: true
  make:
    cmd: |-
      {{DOCKER_RUN}} cytopia/checkmake:latest-0.5 Makefile
    enabled: true
  markdown:
    cmd: |-
      {{DOCKER_RUN}} ghcr.io/igorshubovych/markdownlint-cli:v0.46.0 markdownlint "**/*.md"
    enabled: true
  shellcheck:
    cmd: |-
      {{DOCKER_RUN}} koalaman/shellcheck:v0.11.0 -x {{SH_FILES}}
    enabled: true
  shfmt:
    cmd: |-
      {{DOCKER_RUN}} mvdan/shfmt:v3.12.0 -d -i 2 -ci {{SH_FILES}}
    enabled: true

#  ------------------------------------------------------------------------------
#  Allowed Packages
#  ------------------------------------------------------------------------------
allowedPackages:
  - gopkg.in/yaml.v3
  - github.com/onsi/ginkgo/v2
  - github.com/onsi/gomega
